{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting Started","text":"<p>Welcome!</p> <p>This document will assist organizations in using Github Actions Runners equipped with Ascend NPU chips.</p> <p>If your organization would like to use the runners, configure your organization according to the user manual.</p> <p>If you encounter any issues while using the documentation, please submit an issue.</p>"},{"location":"#future-plans","title":"Future Plans","text":"<p>Currently, the only way to connect to NPU Runners is using Github App. We plan to provide a Github application, such as <code>pr-robot</code>, to run NPU Runners without installing Github App and update this document accordingly.</p>"},{"location":"Repo/","title":"Repo","text":"<p><code>NPU runners</code> have been integrated into the following repositories:</p> <p>vllm-project/vllm-ascend </p> <p>nv-action/vllm-benchmark </p> <p>cosdt/pytorch-integration-tests </p> <p>Ascend/Ascend-CI</p> <p>pytorch-fdn/accelerator-integration-wg</p>"},{"location":"user-manual-en/","title":"User Manual","text":"<p>We implement GitHub Action tasks on Ascend cluster nodes based on ARC.  </p> <p>We introduce the installation methods based on the installation scope (organization/repository) and access permissions (GitHub App/PAT). You can choose one method for installation or combine multiple methods. If you encounter any issues during installation/usage, please create a discussion.  </p> Organization Repository GitHub App Instalation Method Instalation Method PAT Instalation Method Instalation Method"},{"location":"user-manual-en/#install-runner-to-organization-via-github-app","title":"Install Runner to Organization via GitHub App","text":""},{"location":"user-manual-en/#prerequisites","title":"Prerequisites","text":"<p>Requires administrative permissions for the organization.  </p>"},{"location":"user-manual-en/#optional-install-runner-group","title":"Optional: Install Runner Group","text":"<p>Runners installed at the organization level are managed by runner groups. Runner groups have three configuration options to control which repository workflows can use the runner: 1. Repositories: All repositories in the organization / Specific repositories. 2. Repository access: private / public. 3. Workflow: All workflows / Specific workflows. Repositories meeting all three configurations can use the organization\u2019s runners.  </p> <p>If no runner group is specified, the <code>default</code> runner group will be used with the following configurations: 1. Repositories: All repositories selected. 2. Repository access: private. 3. Workflow: All workflows selected.  </p> <p>You may use and modify the <code>default</code> runner group to manage runners (skip Create New Runner Group). If the default runner group is already managing runners with permissions different from the new runners, create a custom runner group (refer to Create New Runner Group).  </p>"},{"location":"user-manual-en/#install-github-app","title":"Install GitHub App","text":"<p>Visit apps/ascend-runner-mgmt in your browser and click <code>Install</code>.  Select the organization, choose <code>All repositories</code>, and click <code>Install</code>. </p>"},{"location":"user-manual-en/#submit-request-to-activate-organization","title":"Submit Request to Activate Organization","text":"<p>Visit ascend-gha-runners/org-archive/issues in your browser and click <code>New issue</code> \u2192 <code>Add Or Modify Organization</code> template.  Fill in the three configuration parameters and click <code>Create</code>: - <code>org-name</code>: Your organization name. - <code>runner-group-name</code>: Runner group name (default: <code>Default</code>). - <code>npu-counts</code>: Number of NPU cards mounted on NPU Runners. </p>"},{"location":"user-manual-en/#install-runner-to-repository-via-github-app","title":"Install Runner to Repository via GitHub App","text":""},{"location":"user-manual-en/#prerequisites_1","title":"Prerequisites","text":"<p>Requires administrative permissions for both the organization and repository.  </p>"},{"location":"user-manual-en/#install-github-app_1","title":"Install GitHub App","text":"<p>Visit apps/ascend-runner-mgmt in your browser and click <code>Install</code>.  Select the organization, choose <code>Only select repositories</code>, select your repositories, and click <code>Install</code>. </p>"},{"location":"user-manual-en/#submit-request-to-activate-repository","title":"Submit Request to Activate Repository","text":"<p>Visit ascend-gha-runners/org-archive/issues in your browser and click <code>New issue</code> \u2192 <code>Add Or Modify Repository</code> template.  Fill in the two configuration parameters and click <code>Create</code>: - <code>repo-name</code>: Your repository name. - <code>npu-counts</code>: Number of NPU cards mounted on NPU Runners. </p>"},{"location":"user-manual-en/#install-runner-to-organization-via-pat","title":"Install Runner to Organization via PAT","text":""},{"location":"user-manual-en/#prerequisites_2","title":"Prerequisites","text":"<p>Requires administrative permissions for the organization.  </p>"},{"location":"user-manual-en/#optional-install-runner-group_1","title":"Optional: install runner group","text":""},{"location":"user-manual-en/#create-token","title":"Create Token","text":"<p>Create a token following GitHub Docs. Select <code>admin:org</code> for scopes. Note: After the token expires, the Runner scale set will disappear from the repository, and workflows will fail. Regenerate a valid token when expired. </p>"},{"location":"user-manual-en/#submit-request-to-activate-organization_1","title":"Submit Request to Activate Organization","text":"<p>For token security, send an email to <code>gouzhonglin@huawei.com</code>. Email Subject: <code>Request Ascend NPU Runners</code> Email Content:  </p> <pre><code>repo: https://github.com/my-org/  \nrunner_group: ascend-ci  \ntoken: ghp_xxx  \nexpire-at: 30days  \nnpu_counts: 1, 2, 4  \n</code></pre>"},{"location":"user-manual-en/#install-runner-to-repository-via-pat","title":"Install Runner to Repository via PAT","text":""},{"location":"user-manual-en/#prerequisites_3","title":"Prerequisites","text":"<p>Requires administrative permissions for the repository.  </p>"},{"location":"user-manual-en/#create-token_1","title":"Create Token","text":"<p>Create a token following GitHub Docs. Select <code>repo</code> for scopes. Note: After the token expires, the Runner scale set will disappear from the repository, and workflows will fail. Regenerate a valid token when expired. </p>"},{"location":"user-manual-en/#submit-request-to-activate-repository_1","title":"Submit Request to Activate Repository","text":"<p>For token security, send an email to <code>gouzhonglin@huawei.com</code>. Email Subject: <code>Request Ascend NPU Runners</code> Email Content:  </p> <pre><code>repo: https://github.com/my-org/my-repo  \ntoken: ghp_xxx  \nexpire-at: 30days  \nnpu_counts: 1, 2, 4  \n</code></pre>"},{"location":"user-manual-en/#usage","title":"Usage","text":""},{"location":"user-manual-en/#runner-naming-convention","title":"Runner Naming Convention","text":"<p>The naming convention for runner is composed of the following parts:</p> <pre><code>linux-amd64-npu-x  \n^     ^     ^   ^  \n|     |     |   |  \n|     |     |   Number of NPUs Available  \n|     |     NPU Designator  \n|     Architecture  \nOperating System  \n</code></pre>"},{"location":"user-manual-en/#view-runners","title":"View Runners","text":"<p>Whether installed at the repository or organization level, runners are triggered by repository workflows. Navigate to your repository \u2192 <code>Settings</code> \u2192 <code>Actions</code> \u2192 <code>Runners</code>. - <code>Runner scale set</code>: Runners configured for the repository. - <code>Shared with this repository</code>: Organization runners accessible to the repository. Status <code>Online</code> indicates availability. </p>"},{"location":"user-manual-en/#use-npu-runners-in-workflows","title":"Use NPU Runners in Workflows","text":"<p>To utilize Ascend NPUs in a job, specify the <code>container.image</code> field. Otherwise, NPU resources won\u2019t be allocated to runner pod. Example Workflow:  </p> <pre><code>name: Test NPU Runner  \non:  \n  workflow_dispatch:  \njobs:  \n  job_0:  \n    runs-on: linux-arm64-npu-1  \n    container:  \n      image: ascendai/cann:latest  \n\n    steps:  \n      - name: Show NPU info  \n        run: |  \n          npu-smi info  \n</code></pre>"},{"location":"user-manual-zh/","title":"\u7528\u6237\u624b\u518c","text":"<p>\u6211\u4eec\u57fa\u4e8eARC\u5b9e\u73b0 GitHub Action \u4efb\u52a1\u5728\u6607\u817e\u96c6\u7fa4\u8282\u70b9\u4e0a\u6267\u884c\u3002</p> <p>\u6211\u4eec\u6309\u7167\u5b89\u88c5\u8303\u56f4(\u7ec4\u7ec7/\u4ed3\u5e93)\u548c\u63a5\u5165\u6743\u9650(GitHub App/PAT)\u5206\u522b\u4ecb\u7ecd\u5b89\u88c5\u65b9\u5f0f\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u79cd\u65b9\u5f0f\u5b89\u88c5\uff0c\u4e5f\u53ef\u4ee5\u642d\u914d\u591a\u79cd\u65b9\u5f0f\u6df7\u5408\u5b89\u88c5\u3002 \u5982\u679c\u60a8\u5728\u5b89\u88c5/\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u63d0\u51fadiscussion\u3002</p> \u7ec4\u7ec7 \u4ed3\u5e93 GitHub App \u5b89\u88c5\u65b9\u5f0f \u5b89\u88c5\u65b9\u5f0f PAT \u5b89\u88c5\u65b9\u5f0f \u5b89\u88c5\u65b9\u5f0f"},{"location":"user-manual-zh/#github-app-runner","title":"\u901a\u8fc7 GitHub App \u5c06 runner \u5b89\u88c5\u5230\u7ec4\u7ec7","text":""},{"location":"user-manual-zh/#_2","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u9700\u8981\u5177\u5907\u7ec4\u7ec7\u7684\u7ba1\u7406\u6743\u9650\u3002</p>"},{"location":"user-manual-zh/#runner-group","title":"\u53ef\u9009\uff1a\u5b89\u88c5 runner group","text":"<p>\u88ab\u5b89\u88c5\u5230\u7ec4\u7ec7\u7684 runner \u7531 runner group \u7ba1\u7406\u3002 runner group \u67093\u4e2a\u914d\u7f6e\u9009\u9879\u4ee5\u63a7\u5236\u4ed3\u5e93\u7684 workflow \u662f\u5426\u53ef\u4ee5\u4f7f\u7528 runner\u3002 1. \u4ed3\u5e93\uff1a\u9009\u62e9\u7ec4\u7ec7\u4e0b\u6240\u6709\u4ed3\u5e93 / \u9009\u62e9\u6307\u5b9a\u4ed3\u5e93\u3002 2. \u4ed3\u5e93\u8bbf\u95ee\u6743\u9650\uff1aprivate / public\u3002 3. workflow: \u9009\u62e9\u6240\u6709 workflow / \u9009\u62e9\u6307\u5b9a workflow\u3002 \u540c\u65f6\u6ee1\u8db33\u4e2a\u914d\u7f6e\u7684\u4ed3\u5e93\u53ef\u4ee5\u4f7f\u7528\u7ec4\u7ec7\u7684 runner\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u6307\u5b9a runner group\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4 runner group\uff0c\u5176\u9ed8\u8ba4\u914d\u7f6e\u662f\uff1a 1. \u4ed3\u5e93\uff1a\u9009\u62e9\u6240\u6709\u4ed3\u5e93\u3002 2. \u4ed3\u5e93\u8bbf\u95ee\u6743\u9650\uff1a private\u3002 3. workflow: \u9009\u62e9\u6240\u6709 workflow\u3002</p> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u5e76\u66f4\u6539\u9ed8\u8ba4 runner group \u6765\u7ba1\u7406 runner\uff0c\u8df3\u8fc7\u65b0\u5efa runner group\u3002 \u5982\u679c\u9ed8\u8ba4 runner group \u5df2\u7ecf\u7ba1\u7406 runner \u5e76\u4e14\u5176\u6743\u9650\u4e0e\u65b0 runner \u4e0d\u540c\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003\u65b0\u5efa runner group\u521b\u5efa\u81ea\u5b9a\u4e49 runner group \u6765\u7ba1\u7406 runner\u3002</p>"},{"location":"user-manual-zh/#github-app","title":"\u5b89\u88c5 GitHub App","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95eeapps/ascend-runner-mgmt\u5e76\u4e14\u70b9\u51fb<code>Install</code>\u3002  \u9009\u62e9\u7ec4\u7ec7\uff0c\u9009\u62e9<code>All repositories</code>\uff0c\u70b9\u51fb<code>Install</code>\u3002 </p>"},{"location":"user-manual-zh/#_3","title":"\u63d0\u4ea4\u7533\u8bf7\u6fc0\u6d3b\u7ec4\u7ec7","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95eeascend-gha-runners/org-archive/issues\u5e76\u4e14\u4f9d\u6b21\u70b9\u51fb<code>New issue</code>, <code>Add Or Modify Organization</code>\u9009\u62e9\u6a21\u677f\u3002  \u586b\u51993\u4e2a\u914d\u7f6e\u53c2\u6570\u540e\u70b9\u51fb<code>Create</code>\u3002 <code>org-name</code>\u8868\u793a\u60a8\u7684\u7ec4\u7ec7\u540d\u79f0\u3002 <code>runner-group-name</code>\u8868\u793a<code>Runner group</code>\u7684\u540d\u79f0\uff0c\u9ed8\u8ba4<code>Default</code>\u3002 <code>npu-counts</code>\u8868\u793aNPU Runners\u6302\u8f7d\u7684NPU\u5361\u6570\u91cf\u3002 </p>"},{"location":"user-manual-zh/#github-app-runner_1","title":"\u901a\u8fc7 GitHub App \u5c06 runner \u5b89\u88c5\u5230\u4ed3\u5e93","text":""},{"location":"user-manual-zh/#_4","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u9700\u8981\u5177\u5907\u7ec4\u7ec7\u53ca\u4ed3\u5e93\u7684\u7ba1\u7406\u6743\u9650\u3002</p>"},{"location":"user-manual-zh/#github-app_1","title":"\u5b89\u88c5 GitHub App","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95eeapps/ascend-runner-mgmt\u5e76\u4e14\u70b9\u51fb<code>Install</code>\u3002  \u9009\u62e9\u7ec4\u7ec7\uff0c\u9009\u62e9<code>Only select repositories</code>\uff0c\u9009\u62e9\u76ee\u6807\u4ed3\u5e93\uff0c\u70b9\u51fb<code>Install</code>\u3002 </p>"},{"location":"user-manual-zh/#_5","title":"\u63d0\u4ea4\u7533\u8bf7\u6fc0\u6d3b\u4ed3\u5e93","text":"<p>\u6d4f\u89c8\u5668\u8bbf\u95eeascend-gha-runners/org-archive/issues\u5e76\u4e14\u4f9d\u6b21\u70b9\u51fb<code>New issue</code>, <code>Add Or Modify Repository</code>\u9009\u62e9\u6a21\u677f\u3002  \u586b\u51992\u4e2a\u914d\u7f6e\u53c2\u6570\u540e\u70b9\u51fb<code>Create</code>\u3002 <code>repo-name</code>\u8868\u793a\u60a8\u7684\u4ed3\u5e93\u540d\u79f0\u3002 <code>npu-counts</code>\u8868\u793aNPU Runners\u6302\u8f7d\u7684NPU\u5361\u6570\u91cf\u3002 </p>"},{"location":"user-manual-zh/#pat-runner","title":"\u901a\u8fc7 PAT \u5c06 runner \u5b89\u88c5\u5230\u7ec4\u7ec7","text":""},{"location":"user-manual-zh/#_6","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u9700\u8981\u5177\u5907\u7ec4\u7ec7\u7684\u7ba1\u7406\u6743\u9650\u3002</p>"},{"location":"user-manual-zh/#-runner-group","title":"\u53ef\u9009:\u5b89\u88c5-runner-group","text":""},{"location":"user-manual-zh/#token","title":"\u521b\u5efa token","text":"<p>\u6839\u636eGitHub Docs\u521b\u5efatoken\u3002 scopes \u9009\u62e9<code>admin:org</code>\u3002 \u8bf7\u6ce8\u610ftoken\u5230\u671f\u65f6\u95f4\uff0ctoken\u5230\u671f\u4e4b\u540e\u4ed3\u5e93\u4e0d\u663e\u793a Runner scale set\uff0c\u65e0\u6cd5\u6267\u884c workflow\uff0c\u9700\u8981\u91cd\u65b0\u751f\u6210\u6709\u6548token\u3002 </p>"},{"location":"user-manual-zh/#_7","title":"\u63d0\u4ea4\u7533\u8bf7\u6fc0\u6d3b\u7ec4\u7ec7","text":"<p>\u8003\u8651\u5230token\u4fdd\u5bc6\u9700\u6c42\uff0c\u7533\u8bf7\u65b9\u5f0f\u662f\u5411<code>gouzhonglin@huawei.com</code>\u53d1\u9001\u90ae\u4ef6\u3002 \u90ae\u4ef6\u4e3b\u9898\u6a21\u677f\uff1a<code>Request Ascend NPU Runners</code> \u90ae\u4ef6\u5185\u5bb9\u6a21\u677f\uff1a</p> <pre><code>repo: https://github.com/my-org/\nrunner_group: ascend-ci\ntoken: ghp_xxx\nexpire-at: 30days\nnpu_counts: 1, 2, 4\n</code></pre>"},{"location":"user-manual-zh/#pat-runner_1","title":"\u901a\u8fc7 PAT \u5c06 runner \u5b89\u88c5\u5230\u4ed3\u5e93","text":""},{"location":"user-manual-zh/#_8","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u9700\u8981\u5177\u5907\u4ed3\u5e93\u7684\u7ba1\u7406\u6743\u9650\u3002</p>"},{"location":"user-manual-zh/#token_1","title":"\u521b\u5efa token","text":"<p>\u6839\u636eGitHub Docs\u521b\u5efatoken\u3002 scopes \u9009\u62e9<code>repo</code>\u3002 \u8bf7\u6ce8\u610ftoken\u5230\u671f\u65f6\u95f4\uff0ctoken\u5230\u671f\u4e4b\u540e\u4ed3\u5e93\u4e0d\u663e\u793a Runner scale set\uff0c\u65e0\u6cd5\u6267\u884c workflow\uff0c\u9700\u8981\u91cd\u65b0\u751f\u6210\u6709\u6548token\u3002</p> <p></p>"},{"location":"user-manual-zh/#_9","title":"\u63d0\u4ea4\u7533\u8bf7\u6fc0\u6d3b\u4ed3\u5e93","text":"<p>\u8003\u8651\u5230token\u4fdd\u5bc6\u9700\u6c42\uff0c\u7533\u8bf7\u65b9\u5f0f\u662f\u5411<code>gouzhonglin@huawei.com</code>\u53d1\u9001\u90ae\u4ef6\u3002 \u90ae\u4ef6\u4e3b\u9898\u6a21\u677f\uff1a<code>Request Ascend NPU Runners</code> \u90ae\u4ef6\u5185\u5bb9\u6a21\u677f\uff1a</p> <pre><code>repo: https://github.com/my-org/my-repo\ntoken: ghp_xxx\nexpire-at: 30days\nnpu_counts: 1, 2, 4\n</code></pre>"},{"location":"user-manual-zh/#_10","title":"\u4f7f\u7528","text":""},{"location":"user-manual-zh/#runners","title":"Runners\u547d\u540d\u89c4\u8303","text":"<p>NPU Runners\u7531\u4ee5\u4e0b\u90e8\u5206\u7ec4\u6210\uff1a</p> <pre><code>linux-amd64-npu-x\n^     ^     ^   ^\n|     |     |   |\n|     |     |   Number of NPUs Available\n|     |     NPU Designator\n|     Architecture\nOperating System\n</code></pre>"},{"location":"user-manual-zh/#runner","title":"\u67e5\u770b Runner","text":"<p>\u65e0\u8bba\u662f\u5c06 runner \u5b89\u88c5\u5230\u4ed3\u5e93\u8fd8\u662f\u7ec4\u7ec7\uff0c\u542f\u52a8 runner \u7684\u90fd\u662f\u4ed3\u5e93\u91cc\u7684workflow\u3002\u8fdb\u5165\u60a8\u7684\u4ed3\u5e93\uff0c\u4f9d\u6b21\u70b9\u51fb\u7ec4\u7ec7\u7684<code>Settings, Actions, Runner</code>\u3002<code>Runner scale set</code>\u76ee\u5f55\u4e0b\u662f\u914d\u7f6e\u5230\u4ed3\u5e93\u7684 runner\u3002<code>Shared with this repository</code>\u76ee\u5f55\u4e0b\u662f\u4ed3\u5e93\u53ef\u4ee5\u8bbf\u95ee\u7684\u7ec4\u7ec7 runner\u3002<code>Status</code>\u4e3a<code>Online</code>\u8868\u793a\u53ef\u4ee5\u4f7f\u7528\u3002 </p>"},{"location":"user-manual-zh/#workflownpu-runners","title":"\u5728workflow\u4e2d\u4f7f\u7528NPU Runners","text":"<p>\u5982\u679c\u60f3\u5728 job \u4e2d\u4f7f\u7528\u6607\u817e\u82af\u7247\uff0c\u9700\u8981\u6307\u5b9a<code>container.image</code>\u5b57\u6bb5\uff0c\u5426\u5219job\u4e0d\u4f1a\u8c03\u7528NPU\u8d44\u6e90\u3002 \u4ee5\u4e0b\u4f8b\u5b50\u5c55\u793aGithub Action workflow\u5982\u4f55\u4f7f\u7528NPU Runners\u3002</p> <pre><code>name: Test NPU Runner\non:\n  workflow_dispatch:\njobs:\n  job_0:\n    runs-on: linux-arm64-npu-1\n    container:\n      image: ascendai/cann:latest\n\n    steps:\n      - name: Show NPU info\n        run: |\n          npu-smi info\n</code></pre>"}]}